<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href="../css/public.css" rel="stylesheet">
		<script src="../js/jquery-3.5.1.min.js"></script>
		<script>
			$(function(){
				$("input:button").on("click", function(){
// 					$.get( "buyerName.jsp", function(res){ }, "json")
					
					$.getJSON( "buyerName.jsp", function(res){
						code = "";
							$.each(res,function(i){
								code += "<p id='"+ res[i].id + "'>" + res[i].name + "</p>";
							})
							$("#names").html(code);
					} )
					
// 					$.ajax({
// 						url : "buyerName.jsp",
// 						type : "get",
// 						dataType : "json",
// 						success : function(res){
// 							code = "";
// 							$.each(res,function(i){
// 								code += "<p id='"+ res[i].id + "'>" + res[i].name + "</p>";
// 							})
// 							$("#names").html(code);
// 						},
// 						error : function(req){
// 							alert("상태 : " + req.status);
// 						}
// 					})
				})
				
				$(document).on("click","p", function(){
					
					$.post("buyerDetail.jsp", {"id" : $(this).attr('id')}, function(res){
						
						code = "<table id='d1'>";
						code += "<tr><td>BUYER_ID</td><td>" + res.id + "</td></tr>";
						code += "<tr><td>BUYER_NAME</td><td>" + res.name + "</td></tr>";
						code += "<tr><td>BUYER_LGU</td><td>" + res.lgu + "</td></tr>";
						code += "<tr><td>BUYER_COMTEL</td><td>" + res.comtel + "</td></tr>";
						code += "<tr><td>BUYER_BANK</td><td>" + res.bank + "</td></tr>";
						code += "<tr><td>BUYER_BANKNO</td><td>" + res.bankNo + "</td></tr>";
						code += "<tr><td>BUYER_BANKNAME</td><td>" + res.bankName + "</td></tr>";
						code += "<tr><td>BUYER_MAIL</td><td>" + res.mail + "</td></tr>";
						code += "<tr><td>BUYER_ZIP</td><td>" + res.zip + "</td></tr>";
						code += "<tr><td>BUYER_ADD1</td><td>" + res.add1 + "</td></tr>";
						code += "<tr><td>BUYER_ADD2</td><td>" + res.add2 + "</td></tr>";
						code += "</table>";
						
						$("#detail").html(code).css("text-align", "left");
					}, "json")
// 					$.ajax({
// 						url : "buyerDetail.jsp",
// 						type : "post",
// 						data : { "id" : $(this).attr('id') }, // <- json 형태
// 						// data : "id=" + $(this).attr('id') <- 문자열 형태
// 						dataType : "json",
// 						success : function(res){
// 							code = "<table id='d1'>";
// 							code += "<tr><td>BUYER_ID</td><td>" + res.id + "</td></tr>";
// 							code += "<tr><td>BUYER_NAME</td><td>" + res.name + "</td></tr>";
// 							code += "<tr><td>BUYER_LGU</td><td>" + res.lgu + "</td></tr>";
// 							code += "<tr><td>BUYER_COMTEL</td><td>" + res.comtel + "</td></tr>";
// 							code += "<tr><td>BUYER_BANK</td><td>" + res.bank + "</td></tr>";
// 							code += "<tr><td>BUYER_BANKNO</td><td>" + res.bankNo + "</td></tr>";
// 							code += "<tr><td>BUYER_BANKNAME</td><td>" + res.bankName + "</td></tr>";
// 							code += "<tr><td>BUYER_MAIL</td><td>" + res.mail + "</td></tr>";
// 							code += "<tr><td>BUYER_ZIP</td><td>" + res.zip + "</td></tr>";
// 							code += "<tr><td>BUYER_ADD1</td><td>" + res.add1 + "</td></tr>";
// 							code += "<tr><td>BUYER_ADD2</td><td>" + res.add2 + "</td></tr>";
// 							code += "</table>";
							
// 							$("#detail").html(code).css("text-align", "left");
// 						},
// 						error : function(req){
// 							alert("상태 : " + req.status);
// 						}
// 					})
				})
				
			})
		</script>
		<style>
			p:hover{
				background : lime;
			}
			td {
				text-align : center;
				padding : 5px;
				height : auto;
			}
			#detail {
				width : 600px;
			}
			#d1 td{
				text-align : left;
				padding : 10px;
			}
			#names {
				width : 250px;
			}
			#title {
				height : 50px;
				background : lightblue;
			}
		</style>
		
	</head>
	<body>
		
		<div class="box">
			<h3>타이틀</h3>
			<input type="button" value="확인">
			<div id="result1">
				<table border="1">
					<tr id="title">
						<td>거래처이름</td>
						<td>거래처상세정보</td>
					</tr>
					<tr>
						<td id="names"></td>
						<td id="detail"></td>
					</tr>
				</table>
			</div>
		</div> 
		
	</body>
</html>